from .common import *

MEDIA_URL = "<%= scope.lookupvar('taiga::back::front_protocol') %>://<%= scope.lookupvar('taiga::back::front_hostname') %>/media/"
STATIC_URL = "<%= scope.lookupvar('taiga::back::front_protocol') %>://<%= scope.lookupvar('taiga::back::front_hostname') %>/static/"
ADMIN_MEDIA_PREFIX = "<%= scope.lookupvar('taiga::back::front_protocol') %>://<%= scope.lookupvar('taiga::back::front_hostname') %>/static/admin/"
SITES["front"]["scheme"] = "<%= scope.lookupvar('taiga::back::front_protocol') %>"
SITES["front"]["domain"] = "<%= scope.lookupvar('taiga::back::front_hostname') %>"

SECRET_KEY = "<%= scope.lookupvar('taiga::back::secret_key') %>"

DEBUG = False
TEMPLATE_DEBUG = False
PUBLIC_REGISTER_ENABLED = <%= scope.lookupvar('taiga::back::public_register_enabled').to_s.capitalize %>

DEFAULT_FROM_EMAIL = "no-reply@<%= scope.lookupvar('taiga::back::front_hostname') %>"
SERVER_EMAIL = DEFAULT_FROM_EMAIL

# Uncomment and populate with proper connection parameters
# for enable email sending. EMAIL_HOST_USER should end by @domain.tld
EMAIL_BACKEND = "django.core.mail.backends.smtp.EmailBackend"
EMAIL_USE_TLS = <%= scope.lookupvar('taiga::back::email_use_tls').to_s.capitalize %>
EMAIL_HOST = <%= scope.lookupvar('taiga::back::email_host') != :undef ? "'#{scope.lookupvar('taiga::back::email_host')}'" : 'None' %>
EMAIL_HOST_USER = <%= scope.lookupvar('taiga::back::email_user') != :undef ? "'#{scope.lookupvar('taiga::back::email_user')}'" : 'None' %>
EMAIL_HOST_PASSWORD = <%= scope.lookupvar('taiga::back::email_password') != :undef ? "'#{scope.lookupvar('taiga::back::email_password')}'" : 'None' %>
EMAIL_PORT = <%= scope.lookupvar('taiga::back::email_port') %>

<% if scope.lookupvar('taiga::back::change_notification_min_interval') -%>
CHANGE_NOTIFICATIONS_MIN_INTERVAL = <%= scope.lookupvar('taiga::back::change_notification_min_interval') %>
<% end -%>

# Uncomment and populate with proper connection parameters
# for enable github login/singin.
#GITHUB_API_CLIENT_ID = "yourgithubclientid"
#GITHUB_API_CLIENT_SECRET = "yourgithubclientsecret"
